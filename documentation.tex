%% This is file `DEMO-TUDaReport.tex' version 2.09 (2020/03/13),
%% it is part of
%% TUDa-CI -- Corporate Design for TU Darmstadt
%% ----------------------------------------------------------------------------
%%
%%  Copyright (C) 2018--2020 by Marei Peischl <marei@peitex.de>
%%
%% ============================================================================
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%% http://www.latex-project.org/lppl.txt
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2008/05/04 or later.
%%
%% This work has the LPPL maintenance status `maintained'.
%%
%% The Current Maintainers of this work are
%%   Marei Peischl <tuda-ci@peitex.de>
%%   Markus Lazanowski <latex@ce.tu-darmstadt.de>
%%
%% The development respository can be found at
%% https://github.com/tudace/tuda_latex_templates
%% Please use the issue tracker for feedback!
%%
%% ============================================================================
%%
% !TeX program = lualatex
%%

\documentclass[
	ngerman,
	accentcolor=9c,% Farbe für Hervorhebungen auf Basis der Deklarationen in den
	type=intern,
	marginpar=false
	]{article}

\usepackage[english, main=ngerman]{babel}
\usepackage[babel]{csquotes}

\usepackage{microarch}
\usepackage{listings}
\usepackage{xcolor}
%Formatierungen für Beispiele in diesem Dokument. Im Allgemeinen nicht notwendig!
\let\file\texttt
\let\code\texttt
\let\pck\textsf
\let\cls\textsf

\definecolor{darkgreen}{rgb}{0, 0.6, 0}
\definecolor{gray}{rgb}{0.5, 0.5, 0.5}
\definecolor{mauve}{rgb}{0.58, 0, 0.82}
\lstset{
	%frame=tb,
	language=tex,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	numbers=left,
	numberstyle=\tiny\color{gray},
	morekeywords={*,include},
	rulecolor=\color{red},
	keywordstyle=\color{blue},
	commentstyle=\color{darkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=4,
	%mathescape=true
}

\begin{document}

\title{MikroArch Latex Documentation}
\author{Tristan Schulz}
%\date{} % Ohne Angabe wird automatisch das heutige Datum eingefügt

\maketitle

\tableofcontents

\section{Usage}

\subsection{Installation and import}

Für die Installation kopieren sie einfach die Datei \lstinline|microarch.sty| aus diesem Ordner in den Ordner ihrer Latex Datei oder geben diese in ihrem Latex Paketfpad an.
\\\\
Das importieren erfolgt dann über
\begin{lstlisting}
	\usepackage{microarch}
\end{lstlisting}

\subsection{Creating a Component and using Environments}

Die Erstellung der Komponenten findet immer in einem \lstinline|marchpicture| oder \lstinline|marchpicturemini| Environment statt. In diesem werden die Nodes nach folgendem schema erstellt. Hierbei kann bei \lstinline|marchpicture| ein weiterer parameter angegeben werden um die Skalierung des Diagramms zu verändern.
\begin{lstlisting}
\begin{marchpicture}
	\node (VERWENDUNGSNAME) [typ, option1=wert, ...] at (X,Y) {Text};
\end{marchpicture}
\end{lstlisting}

\input{examples/environments}
\lstinputlisting{examples/environments}

\subsection{Connecting Nodes}

Jede Node hat eine Anzahl von vorgegebenen Ankern, welche zur Positionierung von anderen Komponenten oder auch zum Pfadzeichnen verwendet werden kann. Die Namen der Anker für die Komponenten finden Sie in \ref{components}.

\textbf{Simple Connection}

\input{examples/connect1}
\lstinputlisting{examples/connect1.tex}

Das auswählen der Anker kann über den Befehl \lstinline|\pin(PIN)| gemacht werden. Dieser sorgt dafür, dass auch der Pin selbst mit im Pfad vorhanden ist und nicht nur der Endpunkt. Die Pfadzeichnung funktioniert exakt so wie in Tikz. \lstinline|-|| bedeutet das zuerst Horizontal bis zum Zielpunkt gelaufen wird und dann Vertikal und \lstinline||-| exakt andersrum.
\newpage
\textbf{Coordinate Mathematics}

\input{examples/connect2}
\lstinputlisting{examples/connect2.tex}

Hierbei kann eine Rechnung mit Koordinaten in (\$ Expression \$) geschrieben werden, welche sehr praktisch ist um einen Pfad um verschiedene Komponenten zu zeichnen, wenn der platz für eine direkte Verbindung nicht ausreicht. Ansonsten können diese auch zur relativen Positionierung vom Komponenten verwendet werden.

\newpage
\textbf{Intersection alignment}

\input{examples/connect3}
\lstinputlisting{examples/connect3.tex}

\subsection{Position Nodes}

\input{examples/position1}
\lstinputlisting{examples/position1.tex}

Die Komponenten können Exakt und Relativ platziert werden. Um eine Komponente exakt zu Platzieren wird \lstinline|at (x,y)| verwendet.

Um eine Komponente relativ zu platzieren können die Attribute \lstinline|left, right, above, below| verwendet werden.

\newpage
\section{Reference}
\subsection{Components}\label{components}

\subsubsection{Instruction Memory}
\input{components/instructionmem}
\lstinputlisting[]{components/instructionmem.tex}

\include{example1}

\section{Adding new Components}

\end{document}
